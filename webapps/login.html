<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		.main {
			width: 300px;
			margin: 50px auto;
			text-align: center;
		}
		
		a{
			font-size: 14px;
		}
	</style>
</head>
<body>
<div class="main">
	<h2>登录</h2>
	<form id="myform">
		<table>
			<tr>
				<td>用户名：</td><td><input type="text" name="user" id="user"></td>
			</tr>
			<tr>
				<td>密  码：</td><td><input type="password" name="password" id="pwd"></td>
			</tr>
			<tr>
				<td colspan="2">
					<input type="submit" value="提交"> <a href="register.html">还没帐号？现在注册</a>
				</td>
			</tr>
		</table>
	</form>
</div>
	<script type="text/javascript">
		var form = document.getElementById('myform');

		

		form.onsubmit = function (e) {

			var user = document.getElementById('user').value;
			var pwd = document.getElementById('pwd').value;
			var data = "user="+user+"&password="+pwd;
			dosome(data, function (rel){
				alert(rel);
			});
			e.preventDefault();
		}

		function dosome (param, callback) {
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "http://localhost:8080/login", true);
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			xhr.send(param);
			xhr.onreadystatechange = function () {
				if (xhr.readyState == 4 && xhr.status == 200) {
					callback(xhr.responseText);
				}
			}
		}
	</script>
</body>
</html>